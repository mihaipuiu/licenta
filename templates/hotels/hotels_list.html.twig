{% extends 'base/base.html.twig' %}
{% block content %}
    <div class="row">
        <div class="col-sm-4 col-md-3">
            <h4 class="search-results-title"><i class="soap-icon-search"></i><b>{{ hotels|length }}</b> results found.</h4>
            <div class="toggle-container filters-container">
                <div class="panel style1 arrow-right">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#price-filter" class="collapsed">Price</a>
                    </h4>
                    <div id="price-filter" class="panel-collapse collapse">
                        <div class="panel-content">
                            <div id="price-range"></div>
                            <br />
                            <span class="min-price-label pull-left"></span>
                            <span class="max-price-label pull-right"></span>
                            <div class="clearer"></div>
                        </div><!-- end content -->
                    </div>
                </div>

                <div class="panel style1 arrow-right">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#rating-filter" class="collapsed">User Rating</a>
                    </h4>
                    <div id="rating-filter" class="panel-collapse collapse">
                        <div class="panel-content">
                            <div id="rating" class="five-stars-container editable-rating"></div>
                        </div>
                    </div>
                </div>

                <div class="panel style1 arrow-right">
                    <h4 class="panel-title">
                        <a data-toggle="collapse" href="#modify-search-panel" class="collapsed">Modify Search</a>
                    </h4>
                    <div id="modify-search-panel" class="panel-collapse collapse">
                        <div class="panel-content">
                            <form method="post">
                                <div class="form-group">
                                    <label>destination</label>
                                    <input type="text" class="input-text full-width" placeholder="" value="Paris" />
                                </div>
                                <div class="form-group">
                                    <label>check in</label>
                                    <div class="datepicker-wrap">
                                        <input type="text" name="date_from" class="input-text full-width" placeholder="mm/dd/yy" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>check out</label>
                                    <div class="datepicker-wrap">
                                        <input type="text" name="date_to" class="input-text full-width" placeholder="mm/dd/yy" />
                                    </div>
                                </div>
                                <br />
                                <button class="btn-medium icon-check uppercase full-width">search again</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8 col-md-9">
            <div class="sort-by-section clearfix">
                <h4 class="sort-by-title block-sm">Sort results by:</h4>
                <ul class="sort-bar clearfix block-sm">
                    <li class="sort-by-name"><a class="sort-by-container" href="#"><span>name</span></a></li>
                    <li class="sort-by-price"><a class="sort-by-container" href="#"><span>price</span></a></li>
                    <li class="clearer visible-sms"></li>
                    <li class="sort-by-rating active"><a class="sort-by-container" href="#"><span>rating</span></a></li>
                    <li class="sort-by-popularity"><a class="sort-by-container" href="#"><span>popularity</span></a></li>
                </ul>

                <ul class="swap-tiles clearfix block-sm">
                    <li class="swap-list{% if viewType == 'list' %} active{% endif %}">
                        <a href="{{ path('hotels_list', {'viewType':'list'}) }}"><i class="soap-icon-list"></i></a>
                    </li>
                    <li class="swap-grid{% if viewType == 'grid' %} active{% endif %}">
                        <a href="{{ path('hotels_list', {'viewType':'grid'}) }}"><i class="soap-icon-grid"></i></a>
                    </li>
                    <li class="swap-block{% if viewType == 'block' %} active{% endif %}">
                        <a href="{{ path('hotels_list', {'viewType':'block'}) }}"><i class="soap-icon-block"></i></a>
                    </li>
                </ul>
            </div>
            {% block hotels_list_view %}{% endblock %}
            <a href="#" class="uppercase full-width button btn-large">load more listing</a>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        tjq(document).ready(function() {
            tjq("#price-range").slider({
                range: true,
                min: {{ lowestPriceRoom.price }},
                max: {{ highestPriceRoom.price }},
                values: [ {{ lowestPriceRoom.price }}, {{ highestPriceRoom.price }} ],
                slide: function( event, ui ) {
                    tjq(".min-price-label").html( "$" + ui.values[ 0 ]);
                    tjq(".max-price-label").html( "$" + ui.values[ 1 ]);
                }
            });
            tjq(".min-price-label").html( "$" + tjq("#price-range").slider( "values", 0 ));
            tjq(".max-price-label").html( "$" + tjq("#price-range").slider( "values", 1 ));

            tjq("#rating").slider({
                range: "min",
                value: 40,
                min: 0,
                max: 50,
                slide: function( event, ui ) {

                }
            });
        });
    </script>
{% endblock %}